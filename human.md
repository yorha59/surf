# human 待确认事项

> 作用：本文件是 **当前迭代唯一的人类待办清单**，只记录「需要人类显式处理或决策」的问题。
>
> 使用约定：
> - 当任一 Agent（尤其是 Coco 在 Ralph-loop 中）判断「需要人类确认/介入」时，**必须在这里新增一条问题记录**，而不是继续往 `PRD.md` / `Architecture.md` 写 TODO。
> - 只要本文件**非空**，下一轮 Ralph 调用 Coco 时，应优先围绕这里列出的事项工作（例如检查人类是否已经按建议修改了代码/文档、更新状态等），在说明中显式反馈处理结果。
> - 当 Coco 认为本文件中的所有问题已经被人类处理完，且当前轮不再需要人类额外动作时，**应清空本文件内容（或只保留标题和说明段落）**，让后续 Ralph 迭代可以重新聚焦其他 story。
> - 当前本文件中的各个「问题」代表仍需人类显式决策或修改文档的事项；一旦人类已经完成决策并把结果同步到 `PRD.md` / `Architecture.md` 等规范性文档中，对应问题应从本文件中删除或标记为已解决。

## 问题 1：JSON-RPC 服务的暴露范围与安全策略

**背景：**
- `PRD.md` 中服务模式默认监听 `127.0.0.1:1234`，同时提到 GUI 程序可以连接到「远程已存在的 server」。
- 目前尚未在 `PRD.md` / `Architecture.md` 中统一说明：
  - 首版是否允许将 JSON-RPC 服务绑定到非 `127.0.0.1` 的地址，以便局域网或远程访问；
  - 是否需要内置身份认证、访问控制或加密传输（TLS）；
  - 在多用户环境下的安全边界和推荐部署方式。

**需要人类决策与动作：**
1. 在产品和安全角度综合权衡后，从下列方案中选择其一或明确自定义策略：
   - 方案 A：首版只支持本机访问（仅绑定 `127.0.0.1`），不作为远程多租户服务使用；
   - 方案 B：首版允许将服务暴露到局域网/互联网地址，并明确是否需要认证/TLS 等安全机制；
   - 方案 C：其他（请在文档中自行描述）。
2. 根据选择的方案，直接编辑 `PRD.md` 和必要的 `Architecture.md` 段落：
   - 补充/更新服务监听地址的约束；
   - 如需要远程访问，明确是否要求认证、加密以及推荐部署边界；
   - 若仅支持本机访问，也请在文档中显式写出，以便后续设计和实现阶段遵循。
3. 完成修改后，将本问题从 `human.md` 中删除（或在标题旁标注「已解决」并简要说明处理方式）。

## 问题 2：删除操作的统一行为与平台差异

**背景：**
- `PRD.md` 中：
  - TUI 需求当前描述为「支持键盘操作进行目录导航和文件删除」；
  - GUI 需求中右键菜单包含 `Move to Trash`；
  - 范围（Scope）部分强调核心扫描与分析为只读，删除能力作为单独操作能力提供。
- `Architecture.md` 中，对于删除行为在多个位置以「需待人类确认」形式标注策略待定。
- 现有表述中存在潜在不一致：
  - 是否真的需要在 TUI 中提供删除能力，还是仅在 GUI / CLI 中提供；
  - Linux 平台下是否存在统一「回收站」语义，还是一律视为永久删除；
  - 各形态（CLI/TUI/GUI）是否应遵循同一删除语义和确认流程。

**需要人类决策与动作：**
1. 明确首版的统一删除策略，包括至少以下维度：
   - 各形态是否都支持删除：CLI / TUI / GUI 各自是否提供删除入口；
   - 在 macOS GUI 中，是否一律使用系统废纸篓（Move to Trash）；
   - 在 Linux / 终端环境下，删除是永久删除，还是尽量集成桌面环境的 Trash 机制，抑或首版仅提供「清理建议，不实际删除」。
2. 明确删除前的交互与安全约束：
   - 是否要求所有形态在删除前都进行统一的二次确认提示；
   - 是否需要在 PRD 中对高风险操作（例如删除整棵挂载点、系统目录、大体量目录）给出限制或额外警告；
   - 若有平台差异（如 macOS vs Linux），请在文档中加以区分说明。
3. 人类根据最终决策直接更新 `PRD.md` 和 `Architecture.md`：
   - 在 PRD 的 TUI/GUI/CLI 相关小节内写明删除能力是否提供及其行为；
   - 在 Architecture 中删除「待确认」标注，替换为明确的策略描述（例如「CLI/TUI 一律永久删除且有二次确认，GUI 统一使用 Move to Trash」或其他决定）。
4. 完成上述修改后，将本问题从 `human.md` 中删除（或在标题旁标注「已解决」并简要说明结论），让后续 Ralph 轮次聚焦新的 story。

